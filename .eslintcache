[{"C:\\React apps\\amazon-clone-old\\src\\index.js":"1","C:\\React apps\\amazon-clone-old\\src\\App.js":"2","C:\\React apps\\amazon-clone-old\\src\\reportWebVitals.js":"3","C:\\React apps\\amazon-clone-old\\src\\Home.js":"4","C:\\React apps\\amazon-clone-old\\src\\Header.js":"5","C:\\React apps\\amazon-clone-old\\src\\Product.js":"6","C:\\React apps\\amazon-clone-old\\src\\Checkout.js":"7","C:\\React apps\\amazon-clone-old\\src\\Subtotal.js":"8","C:\\React apps\\amazon-clone-old\\src\\StateProvider.js":"9","C:\\React apps\\amazon-clone-old\\src\\reducer.js":"10","C:\\React apps\\amazon-clone-old\\src\\CheckoutProduct.js":"11","C:\\React apps\\amazon-clone-old\\src\\Login.js":"12","C:\\React apps\\amazon-clone-old\\src\\Payment.js":"13","C:\\React apps\\amazon-clone-old\\src\\axios.js":"14","C:\\React apps\\amazon-clone-old\\src\\firebase.js":"15","C:\\React apps\\amazon-clone-old\\src\\Orders.js":"16","C:\\React apps\\amazon-clone-old\\src\\Order.js":"17","C:\\React apps\\Git\\amazon-clone\\src\\index.js":"18","C:\\React apps\\Git\\amazon-clone\\src\\App.js":"19","C:\\React apps\\Git\\amazon-clone\\src\\reportWebVitals.js":"20","C:\\React apps\\Git\\amazon-clone\\src\\Header.js":"21","C:\\React apps\\Git\\amazon-clone\\src\\Home.js":"22","C:\\React apps\\Git\\amazon-clone\\src\\StateProvider.js":"23","C:\\React apps\\Git\\amazon-clone\\src\\reducer.js":"24","C:\\React apps\\Git\\amazon-clone\\src\\Login.js":"25","C:\\React apps\\Git\\amazon-clone\\src\\Checkout.js":"26","C:\\React apps\\Git\\amazon-clone\\src\\firebase.js":"27","C:\\React apps\\Git\\amazon-clone\\src\\Orders.js":"28","C:\\React apps\\Git\\amazon-clone\\src\\Payment.js":"29","C:\\React apps\\Git\\amazon-clone\\src\\CheckoutProduct.js":"30","C:\\React apps\\Git\\amazon-clone\\src\\Subtotal.js":"31","C:\\React apps\\Git\\amazon-clone\\src\\Product.js":"32","C:\\React apps\\Git\\amazon-clone\\src\\axios.js":"33","C:\\React apps\\Git\\amazon-clone\\src\\Order.js":"34","C:\\React apps\\Git\\amazon-clone\\src\\CategoryFilter.js":"35","C:\\React apps\\Git\\amazon-clone\\src\\OrderRating.js":"36","C:\\React apps\\Git\\amazon-clone\\src\\ordersContext.js":"37","C:\\React apps\\Git\\amazon-clone\\src\\UserRatingContext.js":"38","C:\\React apps\\Git\\amazon-clone\\src\\HomeRating.js":"39","C:\\React apps\\Git\\amazon-clone\\src\\SingleProduct.js":"40","C:\\React apps\\Git\\amazon-clone\\src\\ProductsContext.js":"41","C:\\React apps\\Git\\amazon-clone\\src\\AddReview.js":"42","C:\\React apps\\Git\\amazon-clone\\src\\Ratings.js":"43","C:\\React apps\\Git\\amazon-clone\\src\\LinearRatings.js":"44","C:\\React apps\\Git\\amazon-clone\\src\\AverageRatingContext.js":"45","C:\\React apps\\Git\\amazon-clone\\src\\Reviews.js":"46"},{"size":689,"mtime":1610307031633,"results":"47","hashOfConfig":"48"},{"size":2113,"mtime":1610302264855,"results":"49","hashOfConfig":"48"},{"size":362,"mtime":499162500000,"results":"50","hashOfConfig":"48"},{"size":2573,"mtime":1609865299455,"results":"51","hashOfConfig":"48"},{"size":2047,"mtime":1610305698073,"results":"52","hashOfConfig":"48"},{"size":1075,"mtime":1610042688610,"results":"53","hashOfConfig":"48"},{"size":1167,"mtime":1610117489959,"results":"54","hashOfConfig":"48"},{"size":1063,"mtime":1609855594396,"results":"55","hashOfConfig":"48"},{"size":485,"mtime":1609261623369,"results":"56","hashOfConfig":"48"},{"size":1122,"mtime":1610121420071,"results":"57","hashOfConfig":"48"},{"size":1126,"mtime":1610305455069,"results":"58","hashOfConfig":"48"},{"size":2311,"mtime":1610041692695,"results":"59","hashOfConfig":"48"},{"size":4737,"mtime":1610295811541,"results":"60","hashOfConfig":"48"},{"size":176,"mtime":1610119177047,"results":"61","hashOfConfig":"48"},{"size":509,"mtime":1610127455087,"results":"62","hashOfConfig":"48"},{"size":985,"mtime":1610302426095,"results":"63","hashOfConfig":"48"},{"size":1079,"mtime":1610305387877,"results":"64","hashOfConfig":"48"},{"size":689,"mtime":1610307031633,"results":"65","hashOfConfig":"66"},{"size":3503,"mtime":1652197363065,"results":"67","hashOfConfig":"66"},{"size":362,"mtime":499162500000,"results":"68","hashOfConfig":"66"},{"size":2126,"mtime":1650714316752,"results":"69","hashOfConfig":"66"},{"size":7134,"mtime":1653317687839,"results":"70","hashOfConfig":"66"},{"size":489,"mtime":1647967362803,"results":"71","hashOfConfig":"66"},{"size":1133,"mtime":1648660198241,"results":"72","hashOfConfig":"66"},{"size":2311,"mtime":1610041692695,"results":"73","hashOfConfig":"66"},{"size":1492,"mtime":1652108349803,"results":"74","hashOfConfig":"66"},{"size":503,"mtime":1649185933070,"results":"75","hashOfConfig":"66"},{"size":1795,"mtime":1653384951233,"results":"76","hashOfConfig":"66"},{"size":5651,"mtime":1651940339618,"results":"77","hashOfConfig":"66"},{"size":2837,"mtime":1656161397938,"results":"78","hashOfConfig":"66"},{"size":1077,"mtime":1648663097140,"results":"79","hashOfConfig":"66"},{"size":2369,"mtime":1653384985186,"results":"80","hashOfConfig":"66"},{"size":176,"mtime":1648579067792,"results":"81","hashOfConfig":"66"},{"size":1438,"mtime":1653384969000,"results":"82","hashOfConfig":"66"},{"size":539,"mtime":1647799102562,"results":"83","hashOfConfig":"66"},{"size":5966,"mtime":1653385007876,"results":"84","hashOfConfig":"66"},{"size":93,"mtime":1649526274613,"results":"85","hashOfConfig":"66"},{"size":94,"mtime":1648742345668,"results":"86","hashOfConfig":"66"},{"size":1231,"mtime":1653315898760,"results":"87","hashOfConfig":"66"},{"size":5657,"mtime":1656259805191,"results":"88","hashOfConfig":"66"},{"size":93,"mtime":1651266095223,"results":"89","hashOfConfig":"66"},{"size":401,"mtime":1656261052040,"results":"90","hashOfConfig":"66"},{"size":119,"mtime":1652178301898,"results":"91","hashOfConfig":"66"},{"size":828,"mtime":1652185250011,"results":"92","hashOfConfig":"66"},{"size":100,"mtime":1652197296531,"results":"93","hashOfConfig":"66"},{"size":155,"mtime":1656259784730,"results":"94","hashOfConfig":"66"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nomw8n",{"filePath":"97","messages":"98","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"101"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"101"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"101"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"101"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},"1f8wrkf",{"filePath":"136","messages":"137","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"135"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"135"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"146","usedDeprecatedRules":"135"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"135"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"160","usedDeprecatedRules":"135"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163","usedDeprecatedRules":"135"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"166","messages":"167","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168","usedDeprecatedRules":"135"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"171","usedDeprecatedRules":"135"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"176","usedDeprecatedRules":"135"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"181","usedDeprecatedRules":"135"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188","usedDeprecatedRules":"135"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\React apps\\amazon-clone-old\\src\\index.js",[],"C:\\React apps\\amazon-clone-old\\src\\App.js",["203","204"],"C:\\React apps\\amazon-clone-old\\src\\reportWebVitals.js",[],["205","206"],"C:\\React apps\\amazon-clone-old\\src\\Home.js",[],"C:\\React apps\\amazon-clone-old\\src\\Header.js",["207"],"C:\\React apps\\amazon-clone-old\\src\\Product.js",["208","209"],"import React from \"react\";\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction Product({ id, title, image, price, rating }) {\r\n  const [{ basket,user }, dispatch] = useStateValue();\r\n\r\n\r\n  const addToBasket = () => {\r\n    // dispatch the item into the \r\n    dispatch({\r\n      type: 'ADD_TO_BASKET',\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        image: image,\r\n        price: price,\r\n        rating: rating,\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__info\">\r\n        <p>{title}</p>\r\n        <p className=\"product__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"product__rating\">\r\n            {Array (rating)\r\n            .fill()\r\n            .map((_, i) =>(\r\n          <p>ðŸŒŸ</p>\r\n\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <img\r\n        src={image}\r\n        alt=\"\"\r\n      />\r\n\r\n      <button onClick={addToBasket}>Add to Basket</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","C:\\React apps\\amazon-clone-old\\src\\Checkout.js",["210","211","212"],"import React from \"react\";\r\nimport \"./Checkout.css\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport FlipMove from 'react-flip-move';\r\nimport { forwardRef } from 'react';\r\n\r\n\r\nfunction Checkout() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img\r\n          className=\"checkout__ad\"\r\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div>\r\n          <h3>Hello,{user?.email}</h3>\r\n          <h2 className=\"checkout__title\">Your shopping Basket</h2>\r\n          {basket.map(item => (\r\n            <CheckoutProduct\r\n            id = {item.id}\r\n            title= {item.title}\r\n            image= {item.image}\r\n            price= {item.price} \r\n            rating= {item.rating} \r\n            />\r\n          ))}\r\n        </div>\r\n\r\n      </div>\r\n      <div className=\"checkout__right\">\r\n          <Subtotal/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","C:\\React apps\\amazon-clone-old\\src\\Subtotal.js",["213"],"import React from 'react'\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from './StateProvider';\r\nimport { getBasketTotal } from './reducer';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Subtotal() {\r\n  const history = useHistory();\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n    return (\r\n        <div className=\"subtotal\">\r\n             <CurrencyFormat\r\n        renderText={(value) => (\r\n          <>\r\n            <p>\r\n              Subtotal ({basket.length} items): <strong>{value}</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n              <input type=\"checkbox\" /> This order contains a gift\r\n            </small>\r\n          </>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)} \r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n      <button onClick={e => history.push('/payment')}>Proceed to checkout</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Subtotal\r\n","C:\\React apps\\amazon-clone-old\\src\\StateProvider.js",[],"C:\\React apps\\amazon-clone-old\\src\\reducer.js",[],"C:\\React apps\\amazon-clone-old\\src\\CheckoutProduct.js",["214"],"C:\\React apps\\amazon-clone-old\\src\\Login.js",[],"C:\\React apps\\amazon-clone-old\\src\\Payment.js",["215"],"C:\\React apps\\amazon-clone-old\\src\\axios.js",[],"C:\\React apps\\amazon-clone-old\\src\\firebase.js",[],"C:\\React apps\\amazon-clone-old\\src\\Orders.js",["216","217"],"C:\\React apps\\amazon-clone-old\\src\\Order.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\index.js",[],["218","219"],"C:\\React apps\\Git\\amazon-clone\\src\\App.js",["220","221"],"import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Header from \"./Header\";\nimport Home from \"./Home\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport Payment from \"./Payment\";\nimport SingleProduct from \"./SingleProduct\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { auth } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport Orders from \"./Orders\";\nimport { OrdersContext } from \"./ordersContext\";\nimport { UserRatingContext } from \"./UserRatingContext\";\nimport { ProductsContext } from \"./ProductsContext\";\nimport { AverageRatingContext } from \"./AverageRatingContext\";\n\nconst promise = loadStripe(\n  \"pk_test_51HnqbtEnWfTQeFEgry9VuDuyY9bBY2YK3eYMlQotNyxtrrcrOBcaYAk2PZqdeY0hLkDobuBXDm2CkyIxwHJ8huq100UN0boPq1\"\n);\n\nfunction App() {\n  // fetch api here\n  // useEffect(() => {\n  //   fetch(\"http://localhost:8000/api/test\").then(function (response) {\n  //     response.json().then(function (resp) {\n  //       console.log(resp);\n  //     });\n  //   });\n  // });\n  const [orders, setOrders] = useState([]);\n  const [productUserRating, setProductUserRating] = useState();\n  const [products, setProducts] = useState([]);\n  const [averageRating, setAverageRating] = useState();\n  const [{}, dispatch] = useStateValue();\n\n  useEffect(() => {\n    // will only run once when the app componenet loads\n\n    auth.onAuthStateChanged((authUser) => {\n      // console.log('THE USER IS>>>',authUser);\n\n      if (authUser) {\n        // the user just logged in/the user was logged in\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        // the user is logged out\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n\n  return (\n    // BEM\n    <Router>\n      <div className=\"App\">\n        <OrdersContext.Provider value={{ orders, setOrders }}>\n          <UserRatingContext.Provider\n            value={{ productUserRating, setProductUserRating }}\n          >\n            <ProductsContext.Provider value={{ products, setProducts }}>\n              <AverageRatingContext.Provider\n                value={{ averageRating, setAverageRating }}\n              >\n                <Switch>\n                  <Route exact path=\"/orders\">\n                    <Header />\n                    <Orders />\n                  </Route>\n\n                  <Route exact path=\"/login\">\n                    <Login />\n                  </Route>\n\n                  <Route exact path=\"/checkout\">\n                    <Header />\n                    <Checkout />\n                  </Route>\n\n                  <Route exact path=\"/payment\">\n                    <Header />\n                    <Elements stripe={promise}>\n                      <Payment />\n                    </Elements>\n                  </Route>\n\n                  <Route exact path=\"/product/:id\">\n                    <Header />\n                    <SingleProduct />\n                  </Route>\n\n                  <Route exact path=\"/\">\n                    <Header />\n                    <Home />\n                  </Route>\n                </Switch>\n              </AverageRatingContext.Provider>\n            </ProductsContext.Provider>\n          </UserRatingContext.Provider>\n        </OrdersContext.Provider>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","C:\\React apps\\Git\\amazon-clone\\src\\reportWebVitals.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Header.js",["222"],"import React from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const handleAuthentication = () => {\r\n    if (user) {\r\n      auth.signOut();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"header__logo\"\r\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\r\n          alt=\"\"\r\n        />\r\n      </Link>\r\n      <div className=\"header__search\">\r\n        <input className=\"header__searchInput\" type=\"text\" />\r\n        <SearchIcon className=\"header__searchIcon\" />\r\n      </div>\r\n\r\n      <div className=\"header__nav\">\r\n        <Link to={!user && \"/login\"}>\r\n          <div onClick={handleAuthentication} className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">\r\n              Hello {!user ? \"Guest\" : user.email}\r\n            </span>\r\n            <span className=\"header__optionLineTwo\">\r\n              {user ? \"Sign Out\" : \"Sign In\"}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n\r\n        <Link to=\"/orders\">\r\n          <div className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">Returns</span>\r\n            <span className=\"header__optionLineTwo\">& Orders</span>\r\n          </div>\r\n        </Link>\r\n\r\n        <div className=\"header__option\">\r\n          <span className=\"header__optionLineOne\">Your</span>\r\n          <span className=\"header__optionLineTwo\">Prime</span>\r\n        </div>\r\n\r\n        <Link to=\"/checkout\">\r\n          <div className=\"header__optionBasket\">\r\n            <ShoppingBasketIcon />\r\n            <span\r\n              className=\"header__optionLineTwo \r\n          header__basketCount\"\r\n            >\r\n              {basket?.length}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\Home.js",["223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241"],"import React from \"react\";\r\nimport { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nimport { db } from \"./firebase\";\r\nimport \"./Home.css\";\r\nimport Product from \"./Product\";\r\nimport CategoryFilter from \"./CategoryFilter\";\r\nimport { UserRatingContext } from \"./UserRatingContext\";\r\nimport { ProductsContext } from \"./ProductsContext\";\r\n\r\nfunction Home() {\r\n  const productSeederURL =\r\n    \"http://localhost:5001/clone-2d894/us-central1/getProducts\";\r\n  const categorySeederUrl =\r\n    \"http://localhost:5001/clone-2d894/us-central1/getCategories\";\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n  const { products, setProducts } = useContext(ProductsContext);\r\n  const [unfilteredProducts, setunfilteredProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [isAuth, setisAuth] = useState(false);\r\n  const [value, setCategoryValue] = React.useState();\r\n  const { productUserRating, setProductUserRating } =\r\n    useContext(UserRatingContext);\r\n\r\n  let productsArr = [];\r\n  let ratingsArr;\r\n  let ratings = [];\r\n  let averageRatings = [];\r\n  const newDataRef = useRef(null);\r\n  const resultRef = useRef(null);\r\n  const averageRatingsRef = useRef(null);\r\n\r\n  let isDone = false;\r\n  const onChangeCategory = (newValue) => {\r\n    setCategoryValue(newValue);\r\n    setProducts(unfilteredProducts);\r\n  };\r\n\r\n  async function seederHandler() {\r\n    const response = await fetch(productSeederURL);\r\n    const data = await response.json();\r\n\r\n    productsArr = data.dataArr;\r\n\r\n    //console.log(\"data\", data.dataArr);\r\n    setProducts(productsArr);\r\n    setunfilteredProducts(productsArr);\r\n    categoryHandler();\r\n  }\r\n\r\n  async function categoryHandler() {\r\n    const response = await fetch(categorySeederUrl);\r\n    const data = await response.json();\r\n  }\r\n\r\n  function getRatings() {\r\n    db.collectionGroup(\"ratings\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        snapshot.docs.map((doc) => {\r\n          ratings.push(doc.data());\r\n        });\r\n    \r\n        let result = ratings.reduce(\r\n          (r, { productId, orderId, rating, userId }) => {\r\n            r[productId] = r[productId] || {\r\n              productId,\r\n              orderId,\r\n              rating: [],\r\n              userId,\r\n            };\r\n            r[productId].rating.push({\r\n              orderId: orderId,\r\n              rating: rating,\r\n              userId: userId,\r\n            });\r\n            return r;\r\n          },\r\n          {}\r\n        );\r\n        ratingsArr = Object.values(result);\r\n\r\n        return getAverage(ratingsArr);\r\n      })\r\n      .catch(function (err) {\r\n           console.log(err.message);\r\n      });\r\n  }\r\n  async function getAverage(ratings) {\r\n    await ratings.forEach((rating) => {\r\n      //console.log(rating.productId);\r\n      let r = rating.rating;\r\n      //   console.log(\"r\", r);\r\n      let sum = 0;\r\n      let orderIds = [];\r\n      r.forEach(async (element) => {\r\n        // console.log(element);\r\n\r\n        sum += element.rating;\r\n        orderIds.push({\r\n          orderId: element.orderId,\r\n          userId: element.userId,\r\n          userRating: element.rating,\r\n        });\r\n      });\r\n      const avg = sum / r.length;\r\n      averageRatings.push({\r\n        rating: avg,\r\n        productId: rating.productId,\r\n        orderIds: orderIds,\r\n      });\r\n    });\r\n    return averageRatings;\r\n  }\r\n  useEffect(() => {\r\n    user != \"undefined\" ? setisAuth(true) : setisAuth(false);\r\n    const fetchRatings = async () => {\r\n      if (user) {\r\n        db.collectionGroup(\"basket\")\r\n          .where(\"userId\", \"==\", user?.uid)\r\n          .orderBy(\"created\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot) => {\r\n            querySnapshot.docs.forEach((doc) => {\r\n              //  console.log(\"ratings\", doc.data());\r\n            });\r\n          });\r\n      }\r\n    };\r\n    fetchRatings();\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (products?.length === 0) {\r\n        let average = averageRatingsRef.current;\r\n        average = await getRatings();\r\n        const newData = await db\r\n          .collection(\"products\")\r\n          .get()\r\n          .then((querySnapshot) => {\r\n            querySnapshot.docs.map((doc) => {\r\n              productsArr.push(doc.data());\r\n            });\r\n          })\r\n          .catch(function (err) {\r\n            console.log(err.message);\r\n          });\r\n        //  console.log(averageRatings)\r\n        productsArr.forEach((product, key) => {\r\n          averageRatings?.forEach((avgRating) => {\r\n            if (avgRating?.productId == product.id) {\r\n              productsArr[key] = { ...product, ...avgRating };\r\n            }\r\n          });\r\n        });\r\n\r\n        setProducts(productsArr);\r\n        setunfilteredProducts(productsArr);\r\n        isDone = true;\r\n      }\r\n    };\r\n    fetchData();\r\n\r\n    if (categories.length === 0) {\r\n      db.collection(\"categories\").onSnapshot((snapshot) =>\r\n        snapshot.docs.map((doc) => {\r\n          // console.log(\"doc\", doc.data());\r\n          setCategories(doc.data().categories);\r\n        })\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (value && value.length > 0) {\r\n      var reduced = products.reduce(function (filtered, product) {\r\n        if (product.category === value) {\r\n          var someNewValue = product;\r\n\r\n          filtered.push(someNewValue);\r\n        }\r\n\r\n        return filtered;\r\n      }, []);\r\n      setProducts(reduced);\r\n    }\r\n  }, [value]);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__container\">\r\n        <img\r\n          className=\"home__image\"\r\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <CategoryFilter\r\n          categories={categories}\r\n          value={value}\r\n          onChangeCategory={onChangeCategory}\r\n        ></CategoryFilter>\r\n\r\n        <div className=\"home__row\">\r\n          {products?.map((product) => (\r\n            <Product\r\n              key={product.id}\r\n              id={product.id}\r\n              title={product.title}\r\n              price={product.price}\r\n              image={product.image}\r\n              description={product.description}\r\n              rating={product.averageRating ? product.averageRating : 0}\r\n              productOrders={product?.orderIds ? product?.orderIds : []}\r\n            />\r\n          ))}\r\n        </div>\r\n        <div className=\"home__row\"></div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"90829332\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\r\n            price={1094.98}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n          />\r\n        </div>\r\n        <button onClick={seederHandler}>Seed</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\StateProvider.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\reducer.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Login.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Checkout.js",["242","243","244","245","246","247"],"import React, { useContext,useEffect } from \"react\";\r\nimport \"./Checkout.css\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Subtotal from \"./Subtotal\";\r\nimport FlipMove from \"react-flip-move\";\r\nimport { forwardRef } from \"react\";\r\nimport { OrdersContext } from \"./ordersContext\";\r\n\r\nfunction Checkout() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const { orders, setOrders } = useContext(OrdersContext);\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img\r\n          className=\"checkout__ad\"\r\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n          alt=\"\"\r\n        />\r\n        <div>\r\n          <h3>Hello,{user?.email}</h3>\r\n          <h2 className=\"checkout__title\">Your shopping Basket</h2>\r\n          {basket.map((item) => (\r\n            <CheckoutProduct\r\n              key={item.id}\r\n              id={item.id}\r\n              title={item.title}\r\n              image={item.image}\r\n              price={item.price}\r\n              description={item.description}\r\n              // rating={item.rating}\r\n              orders={item.orders}\r\n              userRating={item.userRating ? item.userRating : 0}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"checkout__right\">\r\n        <Subtotal />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Checkout;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\firebase.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Orders.js",["248","249","250","251","252","253"],"import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { db } from \"./firebase\";\r\nimport \"./Orders.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport Order from \"./Order\";\r\nimport { OrdersContext } from \"./ordersContext\";\r\nfunction Orders() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const { orders, setOrders } = useContext(OrdersContext);\r\n  let usersRef = db.collection(\"users\");\r\n  let products = [];\r\n  const newDataRef = useRef(null);\r\n  let orderArr;\r\n  useEffect(() => {\r\n    if (user) {\r\n      db.collectionGroup(\"basket\")\r\n        .where(\"userId\", \"==\", user?.uid)\r\n        .orderBy(\"created\", \"desc\")\r\n        .get()\r\n        .then((querySnapshot) => {\r\n          querySnapshot.docs.forEach((doc) => {\r\n            products.push(doc.data());\r\n          });\r\n          let newData = newDataRef.current;\r\n          newData = products.reduce((obj, item) => {\r\n            if (obj[item.orderId]) {\r\n              obj[item.orderId].products.push(item.products);\r\n            } else {\r\n              item.products = [item.products];\r\n              obj[item.orderId] = {\r\n                ...item,\r\n              };\r\n            }\r\n            return obj;\r\n          }, {});\r\n          orderArr = Object.values(newData);\r\n\r\n          setOrders(\r\n            orderArr.map((order) => ({\r\n              ...order,\r\n            }))\r\n          );\r\n        });\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [user]);\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"orders\">\r\n      <h1>Your Orders</h1>\r\n      <div className=\"orders__order\">\r\n        {orders?.map((order) => {\r\n          return <Order order={order} key={order.orderId} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\Payment.js",["254","255","256","257"],"import { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport \"./Payment.css\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport axios from \"./axios\";\r\nimport { db } from \"./firebase\";\r\nimport { writeBatch, doc } from \"firebase/firestore\";\r\n\r\nfunction Payment() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [processing, setProcessing] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n  useEffect(() => {\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: \"post\",\r\n\r\n        // Stripe expects the total in a currencies subunits\r\n        url: `/payments/create?total=${Math.round(\r\n          getBasketTotal(basket) * 100\r\n        )}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n    getClientSecret();\r\n  }, [basket]);\r\n\r\n  //console.log(\"THE SECRET IS >>>\", clientSecret);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    var batch = db.batch();\r\n\r\n    setProcessing(true);\r\n\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n\r\n      .then(({ paymentIntent }) => {\r\n        // paymentIntent=payment confirmation\r\n\r\n        db.collection(\"users\")\r\n          .doc(user?.uid)\r\n          .collection(\"orders\")\r\n          .doc(paymentIntent?.id)\r\n          .set({\r\n            amount: paymentIntent?.amount,\r\n            created: paymentIntent?.created,\r\n          });\r\n        basket?.map((product) => {\r\n          const basketProductRef = db\r\n            .collection(\"users\")\r\n            .doc(user?.uid)\r\n            .collection(\"orders\")\r\n            .doc(paymentIntent?.id)\r\n            .collection(\"basket\")\r\n            .doc(`${product?.id}`);\r\n          batch.set(basketProductRef, {\r\n            products: product,\r\n            userId: user?.uid,\r\n            orderId: paymentIntent?.id,\r\n            orderTotal: paymentIntent?.amount,\r\n            created: paymentIntent?.created,\r\n          });\r\n        });\r\n        batch\r\n          .commit()\r\n          .then((response) => {\r\n            console.log(\"Success\");\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n          });\r\n\r\n        // console.log(paymentIntent);\r\n        setSucceeded(true);\r\n        setError(null);\r\n        setProcessing(false);\r\n\r\n        dispatch({\r\n          type: \"EMPTY_BASKET\",\r\n        });\r\n\r\n        history.replace(\"/orders\");\r\n        //    console.log(clientSecret);\r\n        // console.log(CardElement);\r\n      });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    //   Listen for changes in the CardElement\r\n    // and display any errors as the customer types their card details\r\n    setDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment\">\r\n      <div className=\"payment__container\">\r\n        <h1>\r\n          Checkout(<Link to=\"/checkout\">{basket?.length} items </Link> )\r\n        </h1>\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Delivery Adress</h3>\r\n          </div>\r\n\r\n          <div className=\"payment__adress\">\r\n            <p>{user?.email}</p>\r\n            <p>123 React Lane</p>\r\n            <p>Los Angele, CA</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"payment__section\">\r\n        <div className=\"payment__title\">\r\n          <h3>Review items and delivery</h3>\r\n        </div>\r\n        <div className=\"payment__items\">\r\n          {basket.map((item) => (\r\n            <CheckoutProduct\r\n              key={item.id}\r\n              id={item.id}\r\n              title={item.title}\r\n              image={item.image}\r\n              price={item.price}\r\n              description={item.description}\r\n              // rating={item.rating}\r\n              userRating={item.userRating ? item.userRating : 0}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Payment method */}\r\n      <div className=\"payment__section\">\r\n        <div className=\"payment__title\">\r\n          <h3>Payment Method</h3>\r\n        </div>\r\n        <div className=\"payment__details\">\r\n          {/* stripe */}\r\n          <form onSubmit={handleSubmit}>\r\n            <CardElement onChange={handleChange} />\r\n            <div className=\"payment__priceContainer\">\r\n              <CurrencyFormat\r\n                renderText={(value) => <h3>Order Total: {value}</h3>}\r\n                decimalScale={2}\r\n                value={Math.round(getBasketTotal(basket))}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"$\"}\r\n              />\r\n\r\n              <button disabled={processing || disabled || succeeded}>\r\n                <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n              </button>\r\n            </div>\r\n            {/* Errors */}\r\n            {error && <div>{error} </div>}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\CheckoutProduct.js",["258","259","260","261"],"C:\\React apps\\Git\\amazon-clone\\src\\Subtotal.js",["262"],"import React from \"react\";\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Subtotal() {\r\n  const history = useHistory();\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <>\r\n            <p>\r\n              Subtotal ({basket.length} items): <strong>{value}</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n              <input type=\"checkbox\" /> This order contains a gift\r\n            </small>\r\n          </>\r\n        )}\r\n        decimalScale={2}\r\n        value={Math.round(getBasketTotal(basket))}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n      <button onClick={(e) => history.push(\"/payment\")}>\r\n        Proceed to checkout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subtotal;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\Product.js",["263","264","265","266","267","268","269"],"import HomeRating from \"./HomeRating\";\r\nimport React, { useContext, useEffect, useRef } from \"react\";\r\nimport { db } from \"./firebase\";\r\n\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { OrdersContext } from \"./ordersContext\";\r\n\r\nfunction Product({\r\n  id,\r\n  title,\r\n  image,\r\n  price,\r\n  rating,\r\n  description,\r\n  productOrders,\r\n}) {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const { orders, setOrders } = useContext(OrdersContext);\r\n  let usersRef = db.collection(\"users\");\r\n  let products = [];\r\n  const newDataRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    orders.forEach((order) => {\r\n      order.products.forEach((product) => {\r\n        if (product.id === id) {\r\n          productOrders.push(order);\r\n        }\r\n      });\r\n    });\r\n  }, [orders]);\r\n\r\n  const addToBasket = () => {\r\n    // dispatch the item into the\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        image: image,\r\n        description: description,\r\n        price: price,\r\n        rating: rating,\r\n        orders: productOrders,\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__info\">\r\n        <Link\r\n          to={{\r\n            pathname: \"/product/\" + id,\r\n            state: {\r\n              id: id,\r\n              title: title,\r\n              image: image,\r\n              price: price,\r\n              rating: rating,\r\n              description: description,\r\n              orders: productOrders,\r\n              userId: user?.uid,\r\n            },\r\n          }}\r\n        >\r\n          <p>{title}</p>\r\n        </Link>\r\n\r\n        <p className=\"product__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"product__rating\">\r\n          <HomeRating rating={rating}></HomeRating>\r\n        </div>\r\n      </div>\r\n\r\n      <img\r\n        alt=\"\"\r\n        src={image}\r\n        onError={(e) => (\r\n          (e.target.onerror = null),\r\n          (e.target.src =\r\n            \"https://vermeeraustralia.com.au/wp-content/uploads/2016/12/attachment-no-image-available.png\")\r\n        )}\r\n      />\r\n      <button className=\"button-14\" onClick={addToBasket}>\r\n        Add to Basket\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\axios.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Order.js",["270","271","272","273","274","275"],"import React from \"react\";\r\nimport { useContext, useEffect } from \"react\";\r\nimport \"./Order.css\";\r\nimport moment from \"moment\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Order({ order }) {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n\r\n  return (\r\n    <div className=\"order\">\r\n      <h2>Order</h2>\r\n      <p>{moment.unix(order.created).format(\"MMMM Do YYYY, h:mma\")}</p>\r\n\r\n      <p className=\"order__id\">\r\n        <small>{order.orderId}</small>\r\n      </p>\r\n\r\n      {order.products.map((item) => (\r\n        <CheckoutProduct\r\n          key={item.id}\r\n          orderId={order.orderId}\r\n          id={item.id}\r\n          title={item.title}\r\n          description={item.description}\r\n          image={item.image}\r\n          price={item.price}\r\n          rating={item.rating}\r\n          orders={item.orders}\r\n          userRating={item.userRating ? item.userRating : 0}\r\n          hideButton\r\n        />\r\n      ))}\r\n\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <h3 className=\"order__total\">Order Total: {value}</h3>\r\n        )}\r\n        decimalScale={2}\r\n        value={order.orderTotal / 100}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n","C:\\React apps\\Git\\amazon-clone\\src\\CategoryFilter.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\OrderRating.js",["276","277","278","279","280","281","282","283","284","285","286","287","288","289","290"],"import * as React from \"react\";\r\nimport firebase from \"firebase\";\r\nimport \"firebase/auth\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { OrdersContext } from \"./ordersContext\";\r\nimport { UserRatingContext } from \"./UserRatingContext\";\r\nimport { ProductsContext } from \"./ProductsContext\";\r\n\r\nexport default function BasicRating({ orderId, productId, userRating }) {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  // const { starValue, setValue } = useContext(UserRatingContext);\r\n  const [starValue, setValue] = useState(userRating);\r\n  const [ratingState, setRating] = useState(false);\r\n  const { orders, setOrders } = useContext(OrdersContext);\r\n  const { productUserRating, setProductUserRating } =\r\n    useContext(UserRatingContext);\r\n  const { products, setProducts } = useContext(ProductsContext);\r\n  let ratingsArr = [];\r\n  let orderIds = [];\r\n  let productsArr = [];\r\n  let docRef = db\r\n    .collection(\"users\")\r\n    .doc(user?.uid)\r\n    .collection(\"orders\")\r\n    .doc(orderId)\r\n    .collection(\"basket\")\r\n    .doc(`${productId}`);\r\n\r\n  let productRatings = db.collection(\"products\").doc(`${productId}`);\r\n  useEffect(() => {\r\n    setProductUserRating(userRating);\r\n    setValue(productUserRating);\r\n\r\n    db.collectionGroup(\"ratings\")\r\n      .get()\r\n      .then((snapshot) => {\r\n        snapshot.docs.map((doc) => {\r\n          if (\r\n            doc.data().orderId == orderId &&\r\n            doc.data().productId == productId\r\n          ) {\r\n            setProductUserRating(doc.data().rating);\r\n            setValue(doc.data().rating);\r\n          }\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    products?.forEach((product) => {\r\n      if (product.id == productId) {\r\n        product.orderIds &&\r\n          product?.orderIds.forEach((order, key) => {\r\n            if (order.orderId == orderId) {\r\n              order.userRating = productUserRating;\r\n            }\r\n          });\r\n      }\r\n    });\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n\r\n    setProductUserRating(userRating);\r\n\r\n    if (user) {\r\n      if (ratingState) {\r\n        docRef\r\n          .update({\r\n            \"products.userRating\": starValue,\r\n          })\r\n\r\n          .then(() => {\r\n            productRatings.get().then((doc) => {\r\n              if (doc.data()[\"ratings\"]) {\r\n                productRatings\r\n                  .collection(\"ratings\")\r\n                  .doc(user?.uid)\r\n                  .update({ rating: starValue });\r\n              } else {\r\n                productRatings\r\n                  .collection(\"ratings\")\r\n                  .doc(user?.uid)\r\n                  .set({\r\n                    userId: user?.uid,\r\n                    rating: starValue,\r\n                    productId: productId,\r\n                    orderId: orderId,\r\n                  })\r\n                  .then(() => {\r\n                    db.collectionGroup(\"ratings\")\r\n                      .get()\r\n                      .then((snapshot) => {\r\n                        let sum = 0;\r\n\r\n                        snapshot.docs.map((doc) => {\r\n                          if (doc.data().productId == productId) {\r\n                            ratingsArr.push(doc.data().rating);\r\n                            sum += doc.data().rating;\r\n                            orderIds.push({\r\n                              orderId: doc.data().orderId,\r\n                              userId: doc.data().userId,\r\n                              userRating: doc.data().rating,\r\n                              productId: doc.data().productId,\r\n                            });\r\n                          }\r\n                        });\r\n                        const avg = sum / ratingsArr.length;\r\n\r\n                        productRatings\r\n                          .update({\r\n                            averageRating: avg,\r\n                            productId: productId,\r\n                            orderIds: orderIds,\r\n                          })\r\n                          .then(() => {\r\n                            console.log(\"Document successfully written!\");\r\n                          })\r\n                          .catch((error) => {\r\n                            console.error(\"Error writing document: \", error);\r\n                          })\r\n                          .then(() => {\r\n                            db.collection(\"products\")\r\n                              .get()\r\n                              .then((querySnapshot) => {\r\n                                querySnapshot.docs.forEach((doc) => {\r\n                                  productsArr.push(doc.data());\r\n                                });\r\n                              })\r\n                              .catch(function (err) {\r\n                                console.log(err.message);\r\n                              });\r\n                            setProducts(productsArr);\r\n                          });\r\n                      });\r\n                  });\r\n              }\r\n            });\r\n          });\r\n      }\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [starValue]);\r\n  useEffect(() => {\r\n    if (userRating) {\r\n      //console.log(\"userRATING\", userRating);\r\n\r\n      setProductUserRating(userRating);\r\n      //  console.log(\"productUserRating\", productUserRating);\r\n    }\r\n  }, [userRating]);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        \"& > legend\": { mt: 2 },\r\n      }}\r\n    >\r\n      <Typography component=\"legend\">Rate this product</Typography>\r\n      <Rating\r\n        name=\"simple-controlled\"\r\n        value={starValue ? starValue : 0}\r\n        precision={0.5}\r\n        onChange={(event, newValue) => {\r\n          setValue(newValue);\r\n\r\n          setRating(true);\r\n          setProductUserRating(newValue);\r\n        }}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","C:\\React apps\\Git\\amazon-clone\\src\\ordersContext.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\UserRatingContext.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\HomeRating.js",["291","292","293","294","295"],"import * as React from \"react\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport { AverageRatingContext } from \"./AverageRatingContext\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport { UserRatingContext } from \"./UserRatingContext\";\r\n\r\nexport default function BasicRating(props) {\r\n  const [value, setValue] = React.useState(props?.rating);\r\n  const { productUserRating, setProductUserRating } =\r\n    useContext(UserRatingContext);\r\n  const { averageRating, setAverageRating } = useContext(AverageRatingContext);\r\n  let productRatings = db.collection(\"products\").doc(`${props?.productId}`);\r\n\r\n  useEffect(() => {\r\n    productRatings.onSnapshot((doc) => {\r\n      //console.log(\"productId\", props);\r\n      // console.log(\"Current data: \", doc.data());\r\n      if (doc.data()?.averageRating) {\r\n        setValue(doc.data()?.averageRating);\r\n      }\r\n    });\r\n  }, [productUserRating]);\r\n\r\n  useEffect(() => {\r\n    setAverageRating(value);\r\n  }, [value]);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        \"& > legend\": { mt: 2 },\r\n      }}\r\n    >\r\n      <Rating name=\"read-only\" value={value} precision={0.5} readOnly />\r\n    </Box>\r\n  );\r\n}\r\n","C:\\React apps\\Git\\amazon-clone\\src\\SingleProduct.js",["296","297","298","299","300","301","302"],"C:\\React apps\\Git\\amazon-clone\\src\\ProductsContext.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\AddReview.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Ratings.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\LinearRatings.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\AverageRatingContext.js",[],"C:\\React apps\\Git\\amazon-clone\\src\\Reviews.js",[],{"ruleId":"303","severity":1,"message":"304","line":26,"column":10,"nodeType":"305","messageId":"306","endLine":26,"endColumn":12},{"ruleId":"307","severity":1,"message":"308","line":49,"column":5,"nodeType":"309","endLine":49,"endColumn":7,"suggestions":"310"},{"ruleId":"311","replacedBy":"312"},{"ruleId":"313","replacedBy":"314"},{"ruleId":"315","severity":1,"message":"316","line":10,"column":28,"nodeType":"317","messageId":"318","endLine":10,"endColumn":36},{"ruleId":"315","severity":1,"message":"319","line":6,"column":12,"nodeType":"317","messageId":"318","endLine":6,"endColumn":18},{"ruleId":"315","severity":1,"message":"320","line":6,"column":19,"nodeType":"317","messageId":"318","endLine":6,"endColumn":23},{"ruleId":"315","severity":1,"message":"321","line":6,"column":8,"nodeType":"317","messageId":"318","endLine":6,"endColumn":16},{"ruleId":"315","severity":1,"message":"322","line":7,"column":10,"nodeType":"317","messageId":"318","endLine":7,"endColumn":20},{"ruleId":"315","severity":1,"message":"316","line":11,"column":28,"nodeType":"317","messageId":"318","endLine":11,"endColumn":36},{"ruleId":"315","severity":1,"message":"316","line":10,"column":22,"nodeType":"317","messageId":"318","endLine":10,"endColumn":30},{"ruleId":"315","severity":1,"message":"319","line":6,"column":12,"nodeType":"317","messageId":"318","endLine":6,"endColumn":18},{"ruleId":"315","severity":1,"message":"323","line":45,"column":11,"nodeType":"317","messageId":"318","endLine":45,"endColumn":18},{"ruleId":"315","severity":1,"message":"319","line":9,"column":12,"nodeType":"317","messageId":"318","endLine":9,"endColumn":18},{"ruleId":"315","severity":1,"message":"316","line":9,"column":28,"nodeType":"317","messageId":"318","endLine":9,"endColumn":36},{"ruleId":"311","replacedBy":"324"},{"ruleId":"313","replacedBy":"325"},{"ruleId":"303","severity":1,"message":"304","line":37,"column":10,"nodeType":"305","messageId":"306","endLine":37,"endColumn":12},{"ruleId":"307","severity":1,"message":"308","line":59,"column":6,"nodeType":"309","endLine":59,"endColumn":8,"suggestions":"326"},{"ruleId":"315","severity":1,"message":"316","line":10,"column":28,"nodeType":"317","messageId":"318","endLine":10,"endColumn":36},{"ruleId":"315","severity":1,"message":"327","line":3,"column":10,"nodeType":"317","messageId":"318","endLine":3,"endColumn":14},{"ruleId":"315","severity":1,"message":"319","line":18,"column":12,"nodeType":"317","messageId":"318","endLine":18,"endColumn":18},{"ruleId":"315","severity":1,"message":"316","line":18,"column":28,"nodeType":"317","messageId":"318","endLine":18,"endColumn":36},{"ruleId":"315","severity":1,"message":"328","line":23,"column":10,"nodeType":"317","messageId":"318","endLine":23,"endColumn":16},{"ruleId":"315","severity":1,"message":"329","line":25,"column":11,"nodeType":"317","messageId":"318","endLine":25,"endColumn":28},{"ruleId":"315","severity":1,"message":"330","line":25,"column":30,"nodeType":"317","messageId":"318","endLine":25,"endColumn":50},{"ruleId":"315","severity":1,"message":"331","line":32,"column":9,"nodeType":"317","messageId":"318","endLine":32,"endColumn":19},{"ruleId":"315","severity":1,"message":"332","line":33,"column":9,"nodeType":"317","messageId":"318","endLine":33,"endColumn":18},{"ruleId":"315","severity":1,"message":"333","line":56,"column":11,"nodeType":"317","messageId":"318","endLine":56,"endColumn":15},{"ruleId":"334","severity":1,"message":"335","line":63,"column":33,"nodeType":"336","messageId":"337","endLine":63,"endColumn":35},{"ruleId":"338","severity":1,"message":"339","line":119,"column":10,"nodeType":"340","messageId":"306","endLine":119,"endColumn":12},{"ruleId":"315","severity":1,"message":"341","line":140,"column":9,"nodeType":"317","messageId":"318","endLine":140,"endColumn":16},{"ruleId":"315","severity":1,"message":"342","line":141,"column":15,"nodeType":"317","messageId":"318","endLine":141,"endColumn":22},{"ruleId":"334","severity":1,"message":"335","line":145,"column":42,"nodeType":"336","messageId":"337","endLine":145,"endColumn":44},{"ruleId":"338","severity":1,"message":"343","line":155,"column":38,"nodeType":"340","messageId":"306","endLine":155,"endColumn":40},{"ruleId":"315","severity":1,"message":"344","line":163,"column":9,"nodeType":"317","messageId":"318","endLine":163,"endColumn":15},{"ruleId":"307","severity":1,"message":"345","line":163,"column":18,"nodeType":"346","endLine":163,"endColumn":22},{"ruleId":"334","severity":1,"message":"335","line":170,"column":33,"nodeType":"336","messageId":"337","endLine":170,"endColumn":35},{"ruleId":"307","severity":1,"message":"347","line":191,"column":6,"nodeType":"309","endLine":191,"endColumn":13,"suggestions":"348"},{"ruleId":"315","severity":1,"message":"349","line":1,"column":28,"nodeType":"317","messageId":"318","endLine":1,"endColumn":37},{"ruleId":"315","severity":1,"message":"321","line":6,"column":8,"nodeType":"317","messageId":"318","endLine":6,"endColumn":16},{"ruleId":"315","severity":1,"message":"322","line":7,"column":10,"nodeType":"317","messageId":"318","endLine":7,"endColumn":20},{"ruleId":"315","severity":1,"message":"316","line":11,"column":28,"nodeType":"317","messageId":"318","endLine":11,"endColumn":36},{"ruleId":"315","severity":1,"message":"350","line":12,"column":11,"nodeType":"317","messageId":"318","endLine":12,"endColumn":17},{"ruleId":"315","severity":1,"message":"351","line":12,"column":19,"nodeType":"317","messageId":"318","endLine":12,"endColumn":28},{"ruleId":"315","severity":1,"message":"352","line":1,"column":17,"nodeType":"317","messageId":"318","endLine":1,"endColumn":25},{"ruleId":"315","severity":1,"message":"353","line":2,"column":8,"nodeType":"317","messageId":"318","endLine":2,"endColumn":16},{"ruleId":"315","severity":1,"message":"319","line":9,"column":12,"nodeType":"317","messageId":"318","endLine":9,"endColumn":18},{"ruleId":"315","severity":1,"message":"316","line":9,"column":28,"nodeType":"317","messageId":"318","endLine":9,"endColumn":36},{"ruleId":"315","severity":1,"message":"354","line":11,"column":7,"nodeType":"317","messageId":"318","endLine":11,"endColumn":15},{"ruleId":"307","severity":1,"message":"355","line":37,"column":22,"nodeType":"356","endLine":37,"endColumn":44},{"ruleId":"315","severity":1,"message":"357","line":11,"column":10,"nodeType":"317","messageId":"318","endLine":11,"endColumn":20},{"ruleId":"315","severity":1,"message":"358","line":11,"column":22,"nodeType":"317","messageId":"318","endLine":11,"endColumn":25},{"ruleId":"315","severity":1,"message":"323","line":48,"column":11,"nodeType":"317","messageId":"318","endLine":48,"endColumn":18},{"ruleId":"334","severity":1,"message":"335","line":66,"column":31,"nodeType":"336","messageId":"337","endLine":66,"endColumn":33},{"ruleId":"315","severity":1,"message":"319","line":23,"column":12,"nodeType":"317","messageId":"318","endLine":23,"endColumn":18},{"ruleId":"315","severity":1,"message":"351","line":26,"column":19,"nodeType":"317","messageId":"318","endLine":26,"endColumn":28},{"ruleId":"307","severity":1,"message":"359","line":47,"column":6,"nodeType":"309","endLine":47,"endColumn":8,"suggestions":"360"},{"ruleId":"361","severity":1,"message":"362","line":56,"column":36,"nodeType":"363","messageId":"364","endLine":56,"endColumn":37},{"ruleId":"315","severity":1,"message":"316","line":10,"column":22,"nodeType":"317","messageId":"318","endLine":10,"endColumn":30},{"ruleId":"315","severity":1,"message":"319","line":19,"column":12,"nodeType":"317","messageId":"318","endLine":19,"endColumn":18},{"ruleId":"315","severity":1,"message":"351","line":20,"column":19,"nodeType":"317","messageId":"318","endLine":20,"endColumn":28},{"ruleId":"315","severity":1,"message":"354","line":21,"column":7,"nodeType":"317","messageId":"318","endLine":21,"endColumn":15},{"ruleId":"315","severity":1,"message":"365","line":22,"column":7,"nodeType":"317","messageId":"318","endLine":22,"endColumn":15},{"ruleId":"315","severity":1,"message":"331","line":23,"column":9,"nodeType":"317","messageId":"318","endLine":23,"endColumn":19},{"ruleId":"307","severity":1,"message":"366","line":33,"column":6,"nodeType":"309","endLine":33,"endColumn":14,"suggestions":"367"},{"ruleId":"361","severity":1,"message":"362","line":84,"column":36,"nodeType":"363","messageId":"364","endLine":84,"endColumn":37},{"ruleId":"315","severity":1,"message":"368","line":2,"column":10,"nodeType":"317","messageId":"318","endLine":2,"endColumn":20},{"ruleId":"315","severity":1,"message":"349","line":2,"column":22,"nodeType":"317","messageId":"318","endLine":2,"endColumn":31},{"ruleId":"315","severity":1,"message":"327","line":8,"column":10,"nodeType":"317","messageId":"318","endLine":8,"endColumn":14},{"ruleId":"315","severity":1,"message":"319","line":11,"column":12,"nodeType":"317","messageId":"318","endLine":11,"endColumn":18},{"ruleId":"315","severity":1,"message":"320","line":11,"column":20,"nodeType":"317","messageId":"318","endLine":11,"endColumn":24},{"ruleId":"315","severity":1,"message":"316","line":11,"column":28,"nodeType":"317","messageId":"318","endLine":11,"endColumn":36},{"ruleId":"315","severity":1,"message":"353","line":2,"column":8,"nodeType":"317","messageId":"318","endLine":2,"endColumn":16},{"ruleId":"315","severity":1,"message":"319","line":15,"column":12,"nodeType":"317","messageId":"318","endLine":15,"endColumn":18},{"ruleId":"315","severity":1,"message":"316","line":15,"column":28,"nodeType":"317","messageId":"318","endLine":15,"endColumn":36},{"ruleId":"315","severity":1,"message":"350","line":19,"column":11,"nodeType":"317","messageId":"318","endLine":19,"endColumn":17},{"ruleId":"334","severity":1,"message":"335","line":42,"column":33,"nodeType":"336","messageId":"337","endLine":42,"endColumn":35},{"ruleId":"338","severity":1,"message":"343","line":44,"column":32,"nodeType":"340","messageId":"306","endLine":44,"endColumn":34},{"ruleId":"338","severity":1,"message":"343","line":45,"column":34,"nodeType":"340","messageId":"306","endLine":45,"endColumn":36},{"ruleId":"307","severity":1,"message":"369","line":52,"column":6,"nodeType":"309","endLine":52,"endColumn":8,"suggestions":"370"},{"ruleId":"338","severity":1,"message":"343","line":56,"column":22,"nodeType":"340","messageId":"306","endLine":56,"endColumn":24},{"ruleId":"338","severity":1,"message":"343","line":59,"column":31,"nodeType":"340","messageId":"306","endLine":59,"endColumn":33},{"ruleId":"307","severity":1,"message":"371","line":65,"column":6,"nodeType":"309","endLine":65,"endColumn":16,"suggestions":"372"},{"ruleId":"334","severity":1,"message":"335","line":101,"column":49,"nodeType":"336","messageId":"337","endLine":101,"endColumn":51},{"ruleId":"338","severity":1,"message":"343","line":102,"column":52,"nodeType":"340","messageId":"306","endLine":102,"endColumn":54},{"ruleId":"307","severity":1,"message":"373","line":149,"column":6,"nodeType":"309","endLine":149,"endColumn":17,"suggestions":"374"},{"ruleId":"307","severity":1,"message":"375","line":157,"column":6,"nodeType":"309","endLine":157,"endColumn":18,"suggestions":"376"},{"ruleId":"315","severity":1,"message":"352","line":2,"column":10,"nodeType":"317","messageId":"318","endLine":2,"endColumn":18},{"ruleId":"315","severity":1,"message":"330","line":11,"column":30,"nodeType":"317","messageId":"318","endLine":11,"endColumn":50},{"ruleId":"315","severity":1,"message":"377","line":13,"column":11,"nodeType":"317","messageId":"318","endLine":13,"endColumn":24},{"ruleId":"307","severity":1,"message":"378","line":24,"column":6,"nodeType":"309","endLine":24,"endColumn":25,"suggestions":"379"},{"ruleId":"307","severity":1,"message":"380","line":28,"column":6,"nodeType":"309","endLine":28,"endColumn":13,"suggestions":"381"},{"ruleId":"315","severity":1,"message":"382","line":1,"column":40,"nodeType":"317","messageId":"318","endLine":1,"endColumn":46},{"ruleId":"315","severity":1,"message":"319","line":16,"column":12,"nodeType":"317","messageId":"318","endLine":16,"endColumn":18},{"ruleId":"315","severity":1,"message":"320","line":16,"column":20,"nodeType":"317","messageId":"318","endLine":16,"endColumn":24},{"ruleId":"315","severity":1,"message":"383","line":22,"column":21,"nodeType":"317","messageId":"318","endLine":22,"endColumn":32},{"ruleId":"307","severity":1,"message":"384","line":56,"column":6,"nodeType":"309","endLine":56,"endColumn":8,"suggestions":"385"},{"ruleId":"307","severity":1,"message":"386","line":70,"column":6,"nodeType":"309","endLine":70,"endColumn":8,"suggestions":"387"},{"ruleId":"307","severity":1,"message":"388","line":84,"column":6,"nodeType":"309","endLine":84,"endColumn":35,"suggestions":"389"},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["390"],"no-native-reassign",["391"],"no-negated-in-lhs",["392"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'basket' is assigned a value but never used.","'user' is assigned a value but never used.","'FlipMove' is defined but never used.","'forwardRef' is defined but never used.","'payload' is assigned a value but never used.",["391"],["392"],["393"],"'Link' is defined but never used.","'isAuth' is assigned a value but never used.","'productUserRating' is assigned a value but never used.","'setProductUserRating' is assigned a value but never used.","'newDataRef' is assigned a value but never used.","'resultRef' is assigned a value but never used.","'data' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","'average' is assigned a value but never used.","'newData' is assigned a value but never used.","Expected '===' and instead saw '=='.","'isDone' is assigned a value but never used.","Assignments to the 'isDone' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","React Hook useEffect has missing dependencies: 'products' and 'setProducts'. Either include them or remove the dependency array.",["394"],"'useEffect' is defined but never used.","'orders' is assigned a value but never used.","'setOrders' is assigned a value but never used.","'useState' is defined but never used.","'firebase' is defined but never used.","'usersRef' is assigned a value but never used.","Assignments to the 'orderArr' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression","'writeBatch' is defined but never used.","'doc' is defined but never used.","React Hook useEffect has missing dependencies: 'location.pathname', 'setProductUserRating', and 'userRating'. Either include them or remove the dependency array.",["395"],"no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","'products' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'id' and 'productOrders'. Either include them or remove the dependency array.",["396"],"'useContext' is defined but never used.","React Hook useEffect has missing dependencies: 'orderId', 'productId', 'productUserRating', 'setProductUserRating', and 'userRating'. Either include them or remove the dependency array.",["397"],"React Hook useEffect has missing dependencies: 'orderId', 'productId', and 'productUserRating'. Either include them or remove the dependency array.",["398"],"React Hook useEffect has missing dependencies: 'docRef', 'orderId', 'orderIds', 'productId', 'productRatings', 'productsArr', 'ratingState', 'ratingsArr', 'setOrders', 'setProductUserRating', 'setProducts', 'user', and 'userRating'. Either include them or remove the dependency array.",["399"],"React Hook useEffect has a missing dependency: 'setProductUserRating'. Either include it or remove the dependency array.",["400"],"'averageRating' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'productRatings'. Either include it or remove the dependency array.",["401"],"React Hook useEffect has a missing dependency: 'setAverageRating'. Either include it or remove the dependency array.",["402"],"'useRef' is defined but never used.","'setProducts' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'location' and 'setProductUserRating'. Either include them or remove the dependency array.",["403"],"React Hook useEffect has missing dependencies: 'location.state.id', 'products', 'setAverageRating', and 'userRatings'. Either include them or remove the dependency array.",["404"],"React Hook useEffect has missing dependencies: 'location.state.id', 'setAverageRating', and 'userRatings'. Either include them or remove the dependency array.",["405"],{"desc":"406","fix":"407"},"no-global-assign","no-unsafe-negation",{"desc":"406","fix":"408"},{"desc":"409","fix":"410"},{"desc":"411","fix":"412"},{"desc":"413","fix":"414"},{"desc":"415","fix":"416"},{"desc":"417","fix":"418"},{"desc":"419","fix":"420"},{"desc":"421","fix":"422"},{"desc":"423","fix":"424"},{"desc":"425","fix":"426"},{"desc":"427","fix":"428"},{"desc":"429","fix":"430"},{"desc":"431","fix":"432"},"Update the dependencies array to be: [dispatch]",{"range":"433","text":"434"},{"range":"435","text":"434"},"Update the dependencies array to be: [products, setProducts, value]",{"range":"436","text":"437"},"Update the dependencies array to be: [location.pathname, setProductUserRating, userRating]",{"range":"438","text":"439"},"Update the dependencies array to be: [id, orders, productOrders]",{"range":"440","text":"441"},"Update the dependencies array to be: [orderId, productId, productUserRating, setProductUserRating, userRating]",{"range":"442","text":"443"},"Update the dependencies array to be: [orderId, productId, productUserRating, products]",{"range":"444","text":"445"},"Update the dependencies array to be: [docRef, orderId, orderIds, productId, productRatings, productsArr, ratingState, ratingsArr, setOrders, setProductUserRating, setProducts, starValue, user, userRating]",{"range":"446","text":"447"},"Update the dependencies array to be: [setProductUserRating, userRating]",{"range":"448","text":"449"},"Update the dependencies array to be: [productRatings, productUserRating]",{"range":"450","text":"451"},"Update the dependencies array to be: [setAverageRating, value]",{"range":"452","text":"453"},"Update the dependencies array to be: [location, setProductUserRating]",{"range":"454","text":"455"},"Update the dependencies array to be: [location.state.id, products, setAverageRating, userRatings]",{"range":"456","text":"457"},"Update the dependencies array to be: [location.state.id, productUserRating, products, setAverageRating, userRatings]",{"range":"458","text":"459"},[1416,1418],"[dispatch]",[1916,1918],[5557,5564],"[products, setProducts, value]",[1353,1355],"[location.pathname, setProductUserRating, userRating]",[842,850],"[id, orders, productOrders]",[1842,1844],"[orderId, productId, productUserRating, setProductUserRating, userRating]",[2182,2192],"[orderId, productId, productUserRating, products]",[5261,5272],"[docRef, orderId, orderIds, productId, productRatings, productsArr, ratingState, ratingsArr, setOrders, setProductUserRating, setProducts, starValue, user, userRating]",[5487,5499],"[setProductUserRating, userRating]",[956,975],"[productRatings, productUserRating]",[1037,1044],"[setAverageRating, value]",[1980,1982],"[location, setProductUserRating]",[2445,2447],"[location.state.id, products, setAverageRating, userRatings]",[2909,2938],"[location.state.id, productUserRating, products, setAverageRating, userRatings]"]